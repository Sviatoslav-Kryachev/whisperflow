# üìú –°–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó

–¶—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –º—ñ—Å—Ç–∏—Ç—å –∫–æ—Ä–∏—Å–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó –∑ Railway –Ω–∞ VPS.

## üìã –°–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç—ñ–≤

### 1. `export_railway_data.py`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ï–∫—Å–ø–æ—Ä—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑ Railway PostgreSQL

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è
export DATABASE_URL="postgresql://user:pass@host:port/db"

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç
python scripts/export_railway_data.py
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–≤—Ä—É—á–Ω—É):**
```bash
pg_dump "postgresql://user:pass@host:port/db" > backup.sql
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `backups/whisperflow_backup_YYYYMMDD_HHMMSS.sql`

---

### 2. `import_data.py`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –Ü–º–ø–æ—Ä—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –≤ PostgreSQL –Ω–∞ VPS

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
# –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä—ñ
python scripts/import_data.py backup.sql --docker
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–≤—Ä—É—á–Ω—É):**
```bash
docker compose exec -T db psql -U whisperflow_user -d whisperflow < backup.sql
```

**–ü—Ä–∏–º—ñ—Ç–∫–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `--docker` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è Docker Compose
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∑–∞–ø—É—â–µ–Ω—ñ –ø–µ—Ä–µ–¥ —ñ–º–ø–æ—Ä—Ç–æ–º

---

### 3. `backup.sh`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –±–µ–∫–∞–ø –Ω–∞ VPS

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
# –ó—Ä–æ–±–∏—Ç–∏ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x scripts/backup.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Ä—É—á–Ω—É
./scripts/backup.sh

# –ê–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤ cron (—â–æ–¥–µ–Ω–Ω–∏–π –±–µ–∫–∞–ø –æ 3:00)
crontab -e
# –î–æ–¥–∞—Ç–∏: 0 3 * * * /opt/whisperflow/scripts/backup.sh
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ï–∫—Å–ø–æ—Ä—Ç—É—î –±–∞–∑—É –¥–∞–Ω–∏—Ö –≤ SQL
- –ê—Ä—Ö—ñ–≤—É—î —Ñ–∞–π–ª–∏ –∑ `backend/storage/`
- –°—Ç–≤–æ—Ä—é—î –ø–æ–≤–Ω–∏–π –∞—Ä—Ö—ñ–≤
- –í–∏–¥–∞–ª—è—î –±–µ–∫–∞–ø–∏ —Å—Ç–∞—Ä—ñ—à—ñ –∑–∞ 7 –¥–Ω—ñ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª–∏ –≤ `/opt/backups/`

---

### 4. `check_migration.py`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
python scripts/check_migration.py
```

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î:**
- ‚úÖ –ù–∞—è–≤–Ω—ñ—Å—Ç—å Docker —Ç–∞ Docker Compose
- ‚úÖ –ù–∞—è–≤–Ω—ñ—Å—Ç—å PostgreSQL –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ –ù–∞—è–≤–Ω—ñ—Å—Ç—å –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env —Ñ–∞–π–ª—É
- ‚úÖ –í—ñ–ª—å–Ω–µ –º—ñ—Å—Ü–µ –Ω–∞ –¥–∏—Å–∫—É
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –ø–æ—Ä—Ç—ñ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–≤—ñ—Ç –ø—Ä–æ –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó

---

## üîß –í–∏–º–æ–≥–∏

### –î–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É (–ª–æ–∫–∞–ª—å–Ω–æ):
- Python 3.7+
- PostgreSQL –∫–ª—ñ—î–Ω—Ç (`pg_dump`)
- –î–æ—Å—Ç—É–ø –¥–æ Railway PostgreSQL

### –î–ª—è —ñ–º–ø–æ—Ä—Ç—É (–Ω–∞ VPS):
- Python 3.7+
- Docker —Ç–∞ Docker Compose
- –ó–∞–ø—É—â–µ–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É

### –î–ª—è –±–µ–∫–∞–ø—ñ–≤ (–Ω–∞ VPS):
- Bash
- Docker Compose
- –î–æ—Å—Ç—É–ø –¥–æ `/opt/backups/`

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

1. **–ë–µ–∑–ø–µ–∫–∞:** –ù–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—ñ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –∞–±–æ `.env` —Ñ–∞–π–ª–∏.

2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –ó–∞–≤–∂–¥–∏ —Ç–µ—Å—Ç—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ.

3. **–ë–µ–∫–∞–ø–∏:** –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ, —â–æ –±–µ–∫–∞–ø–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–∞ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω—ñ.

4. **–õ–æ–≥–∏:** –í—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –≤–∏–≤–æ–¥—è—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø—Ä–æ—Ü–µ—Å. –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö.

---

## üÜò –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞: "pg_dump –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
```bash
# Ubuntu/Debian
sudo apt install postgresql-client

# Windows
# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ postgresql.org

# Mac
brew install postgresql
```

### –ü–æ–º–∏–ª–∫–∞: "docker compose –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Docker Compose plugin
apt install docker-compose-plugin -y
```

### –ü–æ–º–∏–ª–∫–∞: "Permission denied"
```bash
# –ó—Ä–æ–±–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x scripts/backup.sh
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- –î–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –º—ñ–≥—Ä–∞—Ü—ñ—ó: `MIGRATION_UKRAINE_COM_UA.md`
- –ß–µ–∫–ª–∏—Å—Ç –º—ñ–≥—Ä–∞—Ü—ñ—ó: `MIGRATION_CHECKLIST.md`
- –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ VPS: `DEPLOY_VPS.md`




