# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∏ –¥–æ–º–µ–Ω–∞ app-toolbox.space

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ http://localhost:8000
- ‚úÖ PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç

---

## üöÄ –®–ê–ì 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx

**–ù–∞ VPS:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
apt update
apt install nginx -y

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
systemctl enable nginx
```

---

## üöÄ –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –¥–ª—è –¥–æ–º–µ–Ω–∞ app-toolbox.space

**–ù–∞ VPS:**
```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è WhisperFlow
nano /etc/nginx/sites-available/whisperflow
```

**–í—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```nginx
server {
    listen 80;
    server_name app-toolbox.space www.app-toolbox.space;
    
    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ (500MB –¥–ª—è –∞—É–¥–∏–æ)
    client_max_body_size 500M;

    location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
        proxy_connect_timeout 600s;
        proxy_send_timeout 600s;
        proxy_read_timeout 600s;
    }

    # –õ–æ–≥–∏
    access_log /var/log/nginx/whisperflow_access.log;
    error_log /var/log/nginx/whisperflow_error.log;
}
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `Ctrl+O`, `Enter`, `Ctrl+X`

---

## üöÄ –®–ê–ì 3: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

**–ù–∞ VPS:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
ln -s /etc/nginx/sites-available/whisperflow /etc/nginx/sites-enabled/

# –£–¥–∞–ª–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
rm /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ï—Å–ª–∏ –≤—Å–µ –û–ö, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx
```

---

## üöÄ –®–ê–ì 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –¥–ª—è –¥–æ–º–µ–Ω–∞ app-toolbox.space

**–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º (–≥–¥–µ –≤—ã –ø–æ–∫—É–ø–∞–ª–∏ app-toolbox.space):**

1. –ó–∞–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
2. –î–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å –¥–ª—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞:
   - **–ò–º—è**: `@` (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º –¥–ª—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞)
   - **–¢–∏–ø**: `A`
   - **–ó–Ω–∞—á–µ–Ω–∏–µ**: `173.242.53.230` (IP –≤–∞—à–µ–≥–æ VPS)
   - **TTL**: `3600` (–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

3. –î–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å –¥–ª—è www:
   - **–ò–º—è**: `www`
   - **–¢–∏–ø**: `A`
   - **–ó–Ω–∞—á–µ–Ω–∏–µ**: `173.242.53.230` (IP –≤–∞—à–µ–≥–æ VPS)
   - **TTL**: `3600`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-60 –º–∏–Ω—É—Ç):**
```bash
# –ù–∞ VPS –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
nslookup app-toolbox.space

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: 173.242.53.230
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –¥–æ–º–µ–Ω–∞ (–ø–æ—Å–ª–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS):**
```bash
# –ù–∞ VPS
curl http://app-toolbox.space

# –ò–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# http://app-toolbox.space
```

---

## üöÄ –®–ê–ì 5: –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (HTTPS)

**–ù–∞ VPS (–ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ DNS –∑–∞–ø–∏—Å–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–∏—Å—å):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot
apt install certbot python3-certbot-nginx -y

# –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –¥–æ–º–µ–Ω–∞
certbot --nginx -d app-toolbox.space -d www.app-toolbox.space

# Certbot —Å–ø—Ä–æ—Å–∏—Ç:
# - Email –∞–¥—Ä–µ—Å: –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à email
# - –°–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏: –≤–≤–µ–¥–∏—Ç–µ Y
# - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏: –º–æ–∂–µ—Ç–µ –≤–≤–µ—Å—Ç–∏ N
# - –†–µ–¥–∏—Ä–µ–∫—Ç HTTP –Ω–∞ HTTPS: –≤—ã–±–µ—Ä–∏—Ç–µ 2 (Redirect)
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
curl https://app-toolbox.space

# –ò–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# https://app-toolbox.space
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
systemctl status certbot.timer

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
certbot renew --dry-run
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Nginx –∏ DNS:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Nginx
systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
nginx -t

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Nginx
tail -f /var/log/nginx/whisperflow_error.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω
curl http://app-toolbox.space

# –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:
curl https://app-toolbox.space
```

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
nginx -t

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Nginx
tail -f /var/log/nginx/whisperflow_access.log
tail -f /var/log/nginx/whisperflow_error.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker compose ps
docker compose logs app --tail=50
```

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f /var/log/nginx/whisperflow_error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Nginx
systemctl restart nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–º–µ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
nslookup app-toolbox.space

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Nginx —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 80
sudo netstat -tlnp | grep :80

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
sudo ufw status
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
certbot certificates

# –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot renew

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
nginx -t
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç:

- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è app-toolbox.space
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞
- [ ] DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –¥–æ–º–µ–Ω–∞
- [ ] –î–æ–º–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ HTTP: http://app-toolbox.space
- [ ] Certbot —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–µ–Ω
- [ ] HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç: https://app-toolbox.space

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à WhisperFlow –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
**https://app-toolbox.space**

**–ú–æ–∂–µ—Ç–µ –Ω–∞—á–∏–Ω–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!** üöÄ
