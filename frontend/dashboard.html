<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhisperFlow - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="dashboard-page">
    <!-- Header -->
    <div id="header"></div>

    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-title" data-i18n="sidebar.labels">–Ø—Ä–ª—ã–∫–∏</h3>
                <div class="sidebar-items">
                    <div class="sidebar-item active" data-filter="recent" onclick="filterByRecent()">
                        <span class="sidebar-icon">üìÖ</span>
                        <span data-i18n="sidebar.recentFiles">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã</span>
                    </div>
                    <div class="sidebar-item" data-filter="all" onclick="filterByAll()">
                        <span class="sidebar-icon">üìÅ</span>
                        <span data-i18n="sidebar.allFiles">–í—Å–µ —Ñ–∞–π–ª—ã</span>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3 class="sidebar-title" data-i18n="sidebar.folders">–ü–∞–ø–∫–∏</h3>
                <div id="foldersList" class="sidebar-items">
                    <!-- –ü–∞–ø–∫–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <button class="sidebar-add-btn" onclick="openNewFolderModal()">
                    <span class="sidebar-icon">‚ûï</span>
                    <span data-i18n="sidebar.newFolder">–ù–æ–≤–∞—è –ø–∞–ø–∫–∞</span>
                </button>
            </div>
        </aside>

        <!-- Main content -->
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1 data-i18n="dashboard.title">WhisperFlow Dashboard</h1>
                <p class="subtitle" data-i18n="dashboard.subtitle">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏</p>
            </div>

            <!-- –ë–ª–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div class="upload-section">
            <div class="upload-card">
                <h2 data-i18n="upload.title">–ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ</h2>
                
                <div class="file-upload-area" id="fileUploadArea">
                    <input type="file" id="audioFile" accept="audio/*" hidden>
                    <div class="upload-placeholder">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <p class="upload-text" data-i18n="upload.dropzone">–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞</p>
                        <p class="upload-hint" id="fileName" data-i18n="upload.selectFile">–í—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª</p>
                    </div>
                </div>

                <div class="form-group">
                    <label for="modelSelect" data-i18n="upload.model">–ú–æ–¥–µ–ª—å Whisper:</label>
                    <select id="modelSelect" class="select-input">
                        <option value="tiny" data-i18n="model.tiny">Tiny (–±—ã—Å—Ç—Ä–∞—è, –º–µ–Ω–µ–µ —Ç–æ—á–Ω–∞—è)</option>
                        <option value="base" selected data-i18n="model.base">Base (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</option>
                        <option value="small" data-i18n="model.small">Small (–±–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è)</option>
                        <option value="medium" data-i18n="model.medium">Medium (–æ—á–µ–Ω—å —Ç–æ—á–Ω–∞—è)</option>
                        <option value="large" data-i18n="model.large">Large (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)</option>
                    </select>
                </div>

                <button id="uploadBtn" class="btn btn-primary btn-large" disabled>
                    <span id="uploadBtnText" data-i18n="upload.button">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å</span>
                </button>

                <div id="progressContainer" class="progress-container" style="display: none;">
                    <div class="progress-info">
                        <span id="progressText">–û–±—Ä–∞–±–æ—Ç–∫–∞...</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar-wrapper">
                        <div class="progress-bar" id="progressBarFill"></div>
                    </div>
                </div>

                <div id="uploadMessage" class="message"></div>
            </div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π -->
        <div class="transcripts-section">
            <h2 data-i18n="transcripts.title">–ú–æ–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏</h2>
            <div id="transcriptsList" class="transcripts-list">
                <div class="empty-state">
                    <p data-i18n="transcripts.empty">–ü–æ–∫–∞ –Ω–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π</p>
                    <p class="hint" data-i18n="transcripts.emptyHint">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–µ—Ä–≤—ã–π –∞—É–¥–∏–æ—Ñ–∞–π–ª –¥–ª—è –Ω–∞—á–∞–ª–∞</p>
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Modal: –ù–æ–≤–∞—è –ø–∞–ø–∫–∞ -->
    <div id="folderModal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeFolderModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">üìÅ</div>
                <h2 data-i18n="modal.newFolder">–ù–æ–≤–∞—è –ø–∞–ø–∫–∞</h2>
                <button class="modal-close" onclick="closeFolderModal()">√ó</button>
            </div>
            <p class="modal-description" data-i18n="modal.newFolderDesc">–ü–∞–ø–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤–º–µ—Å—Ç–µ.</p>
            <div class="modal-body">
                <label for="folderName" data-i18n="modal.folderName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏</label>
                <input type="text" id="folderName" data-i18n-placeholder="modal.folderName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏" maxlength="50">
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary btn-modal" onclick="createFolder()" data-i18n="modal.createFolder">–°–û–ó–î–ê–¢–¨ –ü–ê–ü–ö–£</button>
            </div>
        </div>
    </div>

    <!-- Modal: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –ø–∞–ø–∫—É -->
    <div id="moveToFolderModal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeMoveToFolderModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">üìÇ</div>
                <h2 data-i18n="modal.moveToFolder">–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –ø–∞–ø–∫—É</h2>
                <button class="modal-close" onclick="closeMoveToFolderModal()">√ó</button>
            </div>
            <p class="modal-description" id="moveFileName">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É –¥–ª—è —Ñ–∞–π–ª–∞</p>
            <div class="modal-body">
                <input type="hidden" id="moveFileId">
                <div id="folderSelectList" class="folder-select-list">
                    <!-- –ü–∞–ø–∫–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <script src="js/i18n.js"></script>
    <script src="js/components.js"></script>
    <script src="js/api.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
